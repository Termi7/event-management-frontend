<section class="list-shell">
  <header class="list-header">
    <div>
      <p class="eyebrow">Find something to attend</p>
      <h1>Events</h1>
      <p class="subtitle">Browse all upcoming events and jump into the ones you like.</p>
    </div>
    <div *ngIf="auth.isLoggedIn()">
      <a mat-raised-button color="primary" routerLink="/events/new">Create event</a>
    </div>
  </header>

  <div *ngIf="loading" class="center">
    <mat-spinner diameter="48"></mat-spinner>
  </div>

  <div *ngIf="errorMessage" class="error">
    {{ errorMessage }}
  </div>

  <div *ngIf="!loading && !errorMessage && events.length === 0" class="empty">
    No events found.
  </div>

  <div class="events-grid" *ngIf="!loading && events.length">
    <mat-card *ngFor="let event of events" class="event-card">
      <div class="card-top">
        <div>
          <h2>{{ event.title }}</h2>
          <p class="location" *ngIf="event.location">{{ event.location }}</p>
        </div>
        <div class="dates">
          <div *ngIf="event.startAt" class="pill">Starts {{ event.startAt | date:'MMM d, y, h:mm a' }}</div>
          <div *ngIf="event.endAt" class="pill pill-muted">Ends {{ event.endAt | date:'MMM d, y, h:mm a' }}</div>
        </div>
      </div>
      <p class="description" *ngIf="event.description">{{ event.description }}</p>
      <div class="card-actions">
        <a mat-button color="primary" [routerLink]="['/events', event.id]">View details</a>
      </div>
    </mat-card>
  </div>
</section>
