<h2 style="margin: 0 0 12px;">My Registrations</h2>

<div *ngIf="loading" style="display:flex; justify-content:center; padding: 18px;">
  <mat-spinner></mat-spinner>
</div>

<div *ngIf="errorMessage" style="color:#b00020; margin-bottom: 10px;">{{ errorMessage }}</div>

<mat-card *ngIf="!loading && regs.length === 0">
  <mat-card-content>You have no registrations yet.</mat-card-content>
</mat-card>

<mat-card *ngFor="let r of regs" style="margin-bottom: 12px;">
  <mat-card-title>{{ r.eventTitle }}</mat-card-title>
  <mat-card-content>
    <div *ngIf="r.location">{{ r.location }}</div>
    <div *ngIf="r.startAt">{{ r.startAt }}</div>
    <div>Status: {{ r.status }}</div>
  </mat-card-content>
  <mat-card-actions>
    <a mat-button color="primary" [routerLink]="['/events', r.eventId]">View event</a>
    <button mat-stroked-button color="warn" (click)="cancel(r.id)">Cancel</button>
  </mat-card-actions>
</mat-card>
